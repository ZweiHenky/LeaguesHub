<!DOCTYPE html>
<html lang="es">

<head>

 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width">

 <title>Agregar</title>

 <script type="module" src="lib/js/submitForm.js"></script>
 <script type="module" src="lib/js/muestraError.js"></script>

</head>

<body>

 <form onsubmit="handleSubmit(event)">

  <h1>Agregar</h1>

  <p><a href="index.html">Cancelar</a></p>

  <p>
   <label>
    Nombre *
    <input name="nombre">
   </label>
  </p>
  <p>
   <label>
    Direccion *
    <input name="direccion">
   </label>
  </p>
  <p>
   <label>
    Descripcion *
    <textarea name="descripcion">
    </textarea>
   </label>
  </p>
  <p>
   <label>
    Premio *
    <input name="premio">
   </label>
  </p>
  <p>
   <label>
    Logo *
    <input type="file" name="logo">
   </label>
  </p>

  <p><button type="submit">Agregar</button></p>

 </form>

<script type="module">
    import { exportaAHtml } from "./lib/js/exportaAHtml.js"
    import { muestraError } from "./lib/js/muestraError.js"
    import { submitForm } from "./lib/js/submitForm.js"

    async function handleSubmit(e){
    
    e.preventDefault();

    submitForm('srv/liga-agregar.php', event)
    .then(modelo => location.href = 'index.html')
    .catch(muestraError)
  }

  exportaAHtml(handleSubmit)
</script>

</body>

</html>